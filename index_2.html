<!DOCTYPE html>
<html>
<div id="chartContainer">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://dimplejs.org/dist/dimple.v2.1.6.min.js"></script>
  <script type="text/javascript">
  var svg = dimple.newSvg("#chartContainer", 590, 400);
  var data = [
    {'Sex': 'Male', 'Class': '3', 'Survival':"0.150198"},
    {'Sex': 'Male', 'Class': '2', 'Survival':"0.151515"},    
    {'Sex': 'Male', 'Class': '1', 'Survival':"0.396040"},
    {'Sex': 'Female', 'Class': '3', 'Survival':"0.460784"},
    {'Sex': 'Female', 'Class': '2', 'Survival':"0.918919"},
    {'Sex': 'Female', 'Class': '1', 'Survival':"0.964706"}
  ];

  var myChart = new dimple.chart(svg, data);
  myChart.setBounds(70, 30, 420, 330)
  // Change 1: Aggregate by Sex first, then by Class
  var x = myChart.addCategoryAxis("x", ["Sex", "Class"]);
  var y = myChart.addMeasureAxis("y", "Survival");
  var s = myChart.addSeries(["Sex", "Class"], dimple.plot.bar);
  s.lineWeight = 6;
  s.lineMarkers = true;
  myChart.draw();
  </script>
</div>
</html>